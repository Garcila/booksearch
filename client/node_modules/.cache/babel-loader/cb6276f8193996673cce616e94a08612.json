{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\pryambudhi cahyadi\\\\Desktop\\\\booksearch\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\pryambudhi cahyadi\\\\Desktop\\\\booksearch\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\pryambudhi cahyadi\\\\Desktop\\\\booksearch\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\pryambudhi cahyadi\\\\Desktop\\\\booksearch\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\pryambudhi cahyadi\\\\Desktop\\\\booksearch\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\pryambudhi cahyadi\\\\Desktop\\\\booksearch\\\\client\\\\src\\\\pages\\\\Search.js\";\nimport React from \"react\";\nimport API from \"../utils/API\";\nimport Nav from \"../components/Nav\";\nimport Input from \"../components/Input\";\nimport Button from \"../components/Button\";\nimport { Container, Row, Col } from \"../components/Grid\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport BookList from \"../components/BookList\";\nimport BookResult from \"../components/BookResult\";\n\nvar Search =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Search, _React$Component);\n\n  function Search(props) {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Search).call(this, props));\n\n    _this.handleInputChange = function (event) {\n      var target = event.target;\n      var value = target.value;\n\n      _this.setState({\n        query: encodeURI(value)\n      });\n\n      console.log(_this.state.query);\n    };\n\n    _this.handleFormSubmit = function (event) {\n      event.preventDefault();\n      API.getBooks(_this.state.query).then(function (res) {\n        _this.setState({\n          books: res.data.items\n        });\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.state = {\n      query: \"\",\n      books: [],\n      book: \"\",\n      savedBook: \"\",\n      showSaved: false,\n      showError: false\n    };\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"handleSave\",\n    value: function handleSave(data) {\n      var _this2 = this;\n\n      var book = {\n        title: data.title,\n        authors: data.authors,\n        description: data.description,\n        image: data.imageLinks.thumbnail,\n        link: data.previewLink\n      };\n      API.saveBook(book).then(function (res) {\n        console.log(res);\n      }).catch(function (err) {\n        console.log(err);\n\n        _this2.setState({\n          showError: true\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var closeModal = function closeModal() {\n        return _this3.setState({\n          showSaved: false,\n          showError: false\n        });\n      };\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(Nav, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(Jumbotron, {\n        style: {\n          backgroundImage: \"url(/images/books.jpg)\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"(React) Google Books Search\"), React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Search for and Save Books of Interest\"))), React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(Col, {\n        size: \"md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Book Search\"), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Col, {\n        size: \"xs-9 sm-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(Input, {\n        name: \"bookSearch\",\n        onChange: this.handleInputChange,\n        placeholder: \"Type in a book to begin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      })), React.createElement(Col, {\n        size: \"xs-3 sm-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"submit\",\n        onClick: this.handleFormSubmit,\n        className: \"btn btn-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"Search\"))))))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, this.state.books.map(function (book, index) {\n        return React.createElement(BookList, {\n          key: index,\n          book: book.volumeInfo,\n          title: book.volumeInfo.title,\n          authors: book.volumeInfo.authors,\n          link: book.volumeInfo.previewLink,\n          image: book.volumeInfo.imageLinks ? book.volumeInfo.imageLinks.thumbnail : \"\",\n          description: book.volumeInfo.description,\n          buttonText: \"fa-save\",\n          onSelect: function onSelect() {\n            return _this3.handleSave(book.volumeInfo);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        });\n      })))), React.createElement(BookResult, {\n        show: this.state.showSaved,\n        onHide: closeModal,\n        heading: \"Saved!\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"(\", this.state.savedBook, \") was successfuly saved.\"), React.createElement(BookResult, {\n        show: this.state.showError,\n        onHide: closeModal,\n        heading: \"Error!\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"This book is already saved. Please choose another book to save.\"));\n    }\n  }]);\n\n  return Search;\n}(React.Component);\n\nexport default Search;","map":{"version":3,"sources":["C:\\Users\\pryambudhi cahyadi\\Desktop\\booksearch\\client\\src\\pages\\Search.js"],"names":["React","API","Nav","Input","Button","Container","Row","Col","Jumbotron","BookList","BookResult","Search","props","handleInputChange","event","target","value","setState","query","encodeURI","console","log","state","handleFormSubmit","preventDefault","getBooks","then","res","books","data","items","catch","err","book","savedBook","showSaved","showError","title","authors","description","image","imageLinks","thumbnail","link","previewLink","saveBook","closeModal","backgroundImage","map","index","volumeInfo","handleSave","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport API from \"../utils/API\";\r\nimport Nav from \"../components/Nav\";\r\nimport Input from \"../components/Input\";\r\nimport Button from \"../components/Button\";\r\nimport { Container, Row, Col } from \"../components/Grid\";\r\nimport Jumbotron from \"../components/Jumbotron\";\r\nimport BookList from \"../components/BookList\";\r\nimport BookResult from \"../components/BookResult\";\r\n\r\nclass Search extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            query: \"\",\r\n            books: [],\r\n            book: \"\",\r\n            savedBook: \"\",\r\n            showSaved: false,\r\n            showError: false\r\n        }\r\n    }\r\n\r\n    handleInputChange = event => {\r\n        const target = event.target;\r\n        const value = target.value;\r\n\r\n        this.setState({\r\n            query: encodeURI(value)\r\n        });\r\n        console.log(this.state.query);\r\n    }\r\n\r\n    handleFormSubmit = event => {\r\n        event.preventDefault();\r\n        API.getBooks(this.state.query)\r\n            .then(res => {\r\n                this.setState({ books: res.data.items });\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n    handleSave(data) {\r\n        const book = {\r\n            title: data.title,\r\n            authors: data.authors,\r\n            description: data.description,\r\n            image: data.imageLinks.thumbnail,\r\n            link: data.previewLink\r\n        };\r\n        \r\n        API.saveBook(book)\r\n            .then(res => {\r\n                console.log(res);\r\n            }).catch(err => {\r\n                console.log(err);\r\n                this.setState({showError: true});\r\n            });\r\n    }\r\n\r\n    render() {\r\n        const closeModal = () => this.setState({ showSaved: false, showError: false });\r\n        return (\r\n            <div>\r\n                <Nav />\r\n                <div>\r\n                    <Jumbotron style={{ backgroundImage: \"url(/images/books.jpg)\" }}>\r\n                        <Container>\r\n                            <h1>(React) Google Books Search</h1>\r\n                            <h6>Search for and Save Books of Interest</h6>\r\n                        </Container>\r\n                    </Jumbotron>\r\n                    <Container>\r\n                        <Row>\r\n                            <Col size=\"md-12\">\r\n                                <h4>Book Search</h4>\r\n                                <form>\r\n                                    <Container>\r\n                                    <Row>\r\n                                        <Col size=\"xs-9 sm-10\">\r\n                                        <Input\r\n                                            name=\"bookSearch\"\r\n                                            onChange={this.handleInputChange}\r\n                                            placeholder=\"Type in a book to begin\"\r\n                                        />\r\n                                        </Col>\r\n                                        <Col size=\"xs-3 sm-2\">  \r\n                                            <Button type=\"submit\" onClick={this.handleFormSubmit} className=\"btn btn-success\">\r\n                                                Search\r\n                                            </Button>\r\n                                        </Col>\r\n                                    </Row>\r\n                                    </Container>\r\n                                </form>\r\n                            </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            {this.state.books.map((book, index) =>\r\n                                <BookList\r\n                                    key={index}\r\n                                    book={book.volumeInfo}\r\n                                    title={book.volumeInfo.title}\r\n                                    authors={book.volumeInfo.authors}\r\n                                    link={book.volumeInfo.previewLink}\r\n                                    image={book.volumeInfo.imageLinks ? book.volumeInfo.imageLinks.thumbnail : \"\"}\r\n                                    description={book.volumeInfo.description}\r\n                                    buttonText=\"fa-save\"\r\n                                    onSelect={() => this.handleSave(book.volumeInfo)}\r\n                                />\r\n                            )}\r\n                        </Row>\r\n                    </Container>\r\n                </div>\r\n                <BookResult\r\n                    show={this.state.showSaved}\r\n                    onHide={closeModal}\r\n                    heading=\"Saved!\"\r\n                >\r\n                    ({this.state.savedBook}) was successfuly saved.\r\n                </BookResult>\r\n                <BookResult\r\n                    show={this.state.showError}\r\n                    onHide={closeModal}\r\n                    heading=\"Error!\"\r\n                >\r\n                    This book is already saved. Please choose another book to save.\r\n                </BookResult>\r\n            </div>\r\n        );\r\n    };\r\n}\r\nexport default Search;"]},"metadata":{},"sourceType":"module"}